<div class="overflow-hidden bg-white shadow sm:rounded-lg py-4 px-0 sm:px-4">
  <div class="px-4 sm:px-0">
    <div class="flex items-center">
      <h1 class="text-lg font-semibold leading-7 text-gray-900">
        <svg class="inline-block w-5 h-5 mr-2 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
        </svg>
        Bot Settings
      </h1>
    </div>
    <p class="mt-1 text-sm text-gray-500">Configure what the bot does when it joins your meetings.</p>
  </div>

  <form method="POST" action="/calendar/<%= calendar.id %>/bot-settings">
    <input type="hidden" name="_method" value="PATCH">

    <!-- Bot Appearance Section -->
    <div class="mt-6 border-t border-gray-100 pt-4">
      <h2 class="text-sm font-semibold text-gray-900 flex items-center">
        <svg class="w-4 h-4 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
        </svg>
        Bot Appearance
      </h2>
      <div class="mt-3 grid grid-cols-1 gap-4 sm:grid-cols-2">
        <div>
          <label for="botName" class="block text-sm font-medium text-gray-700">Bot Name</label>
          <input
            type="text"
            id="botName"
            name="botName"
            value="<%= calendar.botName || 'Meeting Assistant' %>"
            placeholder="Meeting Assistant"
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
          />
          <p class="mt-1 text-xs text-gray-500">Name shown to meeting participants</p>
        </div>
        <div>
          <label for="botAvatarUrl" class="block text-sm font-medium text-gray-700">Avatar URL (optional)</label>
          <input
            type="url"
            id="botAvatarUrl"
            name="botAvatarUrl"
            value="<%= calendar.botAvatarUrl || '' %>"
            placeholder="https://example.com/avatar.png"
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
          />
          <p class="mt-1 text-xs text-gray-500">Custom avatar image for the bot</p>
        </div>
      </div>
    </div>

    <!-- Recording Capabilities Section -->
    <div class="mt-6 border-t border-gray-100 pt-4">
      <h2 class="text-sm font-semibold text-gray-900 flex items-center">
        <svg class="w-4 h-4 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
        </svg>
        Recording
      </h2>
      <div class="mt-3 space-y-3">
        <div class="relative flex items-start">
          <div class="flex h-6 items-center">
            <input
              id="recordVideo"
              name="recordVideo"
              type="checkbox"
              <%= calendar.recordVideo !== false ? "checked" : "" %>
              class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"
            />
          </div>
          <div class="ml-3 text-sm leading-6">
            <label for="recordVideo" class="font-medium text-gray-900">Record Video</label>
            <p class="text-gray-500">Capture video from the meeting (screen share, webcams)</p>
          </div>
        </div>
        <div class="relative flex items-start">
          <div class="flex h-6 items-center">
            <input
              id="recordAudio"
              name="recordAudio"
              type="checkbox"
              <%= calendar.recordAudio !== false ? "checked" : "" %>
              class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"
            />
          </div>
          <div class="ml-3 text-sm leading-6">
            <label for="recordAudio" class="font-medium text-gray-900">Record Audio</label>
            <p class="text-gray-500">Capture audio from all participants</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Transcription Section -->
    <div class="mt-6 border-t border-gray-100 pt-4">
      <h2 class="text-sm font-semibold text-gray-900 flex items-center">
        <svg class="w-4 h-4 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
        </svg>
        Transcription
      </h2>
      <div class="mt-3 space-y-3">
        <div class="relative flex items-start">
          <div class="flex h-6 items-center">
            <input
              id="enableTranscription"
              name="enableTranscription"
              type="checkbox"
              <%= calendar.enableTranscription !== false ? "checked" : "" %>
              class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"
            />
          </div>
          <div class="ml-3 text-sm leading-6">
            <label for="enableTranscription" class="font-medium text-gray-900">Enable Transcription</label>
            <p class="text-gray-500">Convert speech to text with speaker identification</p>
          </div>
        </div>
        <div class="ml-7">
          <label for="transcriptionLanguage" class="block text-sm font-medium text-gray-700">Language</label>
          <select
            id="transcriptionLanguage"
            name="transcriptionLanguage"
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
          >
            <option value="en" <%= calendar.transcriptionLanguage === 'en' ? 'selected' : '' %>>English</option>
            <option value="es" <%= calendar.transcriptionLanguage === 'es' ? 'selected' : '' %>>Spanish</option>
            <option value="fr" <%= calendar.transcriptionLanguage === 'fr' ? 'selected' : '' %>>French</option>
            <option value="de" <%= calendar.transcriptionLanguage === 'de' ? 'selected' : '' %>>German</option>
            <option value="it" <%= calendar.transcriptionLanguage === 'it' ? 'selected' : '' %>>Italian</option>
            <option value="pt" <%= calendar.transcriptionLanguage === 'pt' ? 'selected' : '' %>>Portuguese</option>
            <option value="nl" <%= calendar.transcriptionLanguage === 'nl' ? 'selected' : '' %>>Dutch</option>
            <option value="ja" <%= calendar.transcriptionLanguage === 'ja' ? 'selected' : '' %>>Japanese</option>
            <option value="ko" <%= calendar.transcriptionLanguage === 'ko' ? 'selected' : '' %>>Korean</option>
            <option value="zh" <%= calendar.transcriptionLanguage === 'zh' ? 'selected' : '' %>>Chinese</option>
            <option value="auto" <%= calendar.transcriptionLanguage === 'auto' ? 'selected' : '' %>>Auto-detect</option>
          </select>
        </div>
      </div>
    </div>

    <!-- AI Enrichment Section -->
    <div class="mt-6 border-t border-gray-100 pt-4">
      <h2 class="text-sm font-semibold text-gray-900 flex items-center">
        <svg class="w-4 h-4 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
        </svg>
        AI Enrichment
      </h2>
      <p class="mt-1 text-xs text-gray-500">Automatically generate insights from your meeting transcripts using AI.</p>
      <div class="mt-3 space-y-3">
        <div class="relative flex items-start">
          <div class="flex h-6 items-center">
            <input
              id="enableSummary"
              name="enableSummary"
              type="checkbox"
              <%= calendar.enableSummary !== false ? "checked" : "" %>
              class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"
            />
          </div>
          <div class="ml-3 text-sm leading-6">
            <label for="enableSummary" class="font-medium text-gray-900">Generate Summary</label>
            <p class="text-gray-500">Create a concise summary of key discussion points</p>
          </div>
        </div>
        <div class="relative flex items-start">
          <div class="flex h-6 items-center">
            <input
              id="enableActionItems"
              name="enableActionItems"
              type="checkbox"
              <%= calendar.enableActionItems !== false ? "checked" : "" %>
              class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"
            />
          </div>
          <div class="ml-3 text-sm leading-6">
            <label for="enableActionItems" class="font-medium text-gray-900">Extract Action Items</label>
            <p class="text-gray-500">Identify tasks and assignments mentioned in the meeting</p>
          </div>
        </div>
        <div class="relative flex items-start">
          <div class="flex h-6 items-center">
            <input
              id="enableFollowUps"
              name="enableFollowUps"
              type="checkbox"
              <%= calendar.enableFollowUps !== false ? "checked" : "" %>
              class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"
            />
          </div>
          <div class="ml-3 text-sm leading-6">
            <label for="enableFollowUps" class="font-medium text-gray-900">Generate Follow-ups</label>
            <p class="text-gray-500">Suggest follow-up items and next steps</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Publishing Section -->
    <div class="mt-6 border-t border-gray-100 pt-4">
      <h2 class="text-sm font-semibold text-gray-900 flex items-center">
        <svg class="w-4 h-4 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
        </svg>
        Auto-Publishing
      </h2>
      <div class="mt-3 space-y-3">
        <div class="relative flex items-start">
          <div class="flex h-6 items-center">
            <input
              id="autoPublishToNotion"
              name="autoPublishToNotion"
              type="checkbox"
              <%= calendar.autoPublishToNotion ? "checked" : "" %>
              class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"
            />
          </div>
          <div class="ml-3 text-sm leading-6">
            <label for="autoPublishToNotion" class="font-medium text-gray-900">Auto-publish to Notion</label>
            <p class="text-gray-500">Automatically send meeting notes to your configured Notion destination</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Bot Behavior Section -->
    <div class="mt-6 border-t border-gray-100 pt-4">
      <h2 class="text-sm font-semibold text-gray-900 flex items-center">
        <svg class="w-4 h-4 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        Bot Behavior
      </h2>
      <div class="mt-3 grid grid-cols-1 gap-4 sm:grid-cols-2">
        <div>
          <label for="joinBeforeStartMinutes" class="block text-sm font-medium text-gray-700">Join before start (minutes)</label>
          <input
            type="number"
            id="joinBeforeStartMinutes"
            name="joinBeforeStartMinutes"
            min="0"
            max="15"
            value="<%= calendar.joinBeforeStartMinutes || 1 %>"
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
          />
          <p class="mt-1 text-xs text-gray-500">How early the bot joins the meeting</p>
        </div>
        <div>
          <label for="leaveAfterEndMinutes" class="block text-sm font-medium text-gray-700">Stay after end (minutes)</label>
          <input
            type="number"
            id="leaveAfterEndMinutes"
            name="leaveAfterEndMinutes"
            min="0"
            max="30"
            value="<%= calendar.leaveAfterEndMinutes || 0 %>"
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
          />
          <p class="mt-1 text-xs text-gray-500">How long the bot stays after scheduled end</p>
        </div>
      </div>
      <div class="mt-4 space-y-3">
        <div class="relative flex items-start">
          <div class="flex h-6 items-center">
            <input
              id="autoLeaveIfAlone"
              name="autoLeaveIfAlone"
              type="checkbox"
              <%= calendar.autoLeaveIfAlone !== false ? "checked" : "" %>
              class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"
            />
          </div>
          <div class="ml-3 text-sm leading-6">
            <label for="autoLeaveIfAlone" class="font-medium text-gray-900">Auto-leave if alone</label>
            <p class="text-gray-500">Bot leaves if it's the only participant</p>
          </div>
        </div>
        <div class="ml-7">
          <label for="autoLeaveAloneTimeoutSeconds" class="block text-sm font-medium text-gray-700">Timeout (seconds)</label>
          <input
            type="number"
            id="autoLeaveAloneTimeoutSeconds"
            name="autoLeaveAloneTimeoutSeconds"
            min="10"
            max="300"
            value="<%= calendar.autoLeaveAloneTimeoutSeconds || 60 %>"
            class="mt-1 block w-32 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
          />
          <p class="mt-1 text-xs text-gray-500">Wait time before leaving when alone</p>
        </div>
      </div>
    </div>

    <!-- Capabilities Summary -->
    <div class="mt-6 border-t border-gray-100 pt-4">
      <h2 class="text-sm font-semibold text-gray-900 flex items-center">
        <svg class="w-4 h-4 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        What the Bot Will Do
      </h2>
      <div class="mt-3 rounded-lg bg-indigo-50 p-4">
        <ul class="space-y-2 text-sm text-indigo-800">
          <li class="flex items-center">
            <svg class="w-4 h-4 mr-2 text-indigo-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            Join your scheduled meetings automatically
          </li>
          <li class="flex items-center">
            <svg class="w-4 h-4 mr-2 text-indigo-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            Record audio and video (based on your settings)
          </li>
          <li class="flex items-center">
            <svg class="w-4 h-4 mr-2 text-indigo-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            Transcribe conversations with speaker identification
          </li>
          <li class="flex items-center">
            <svg class="w-4 h-4 mr-2 text-indigo-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            Generate AI-powered summaries and action items
          </li>
          <li class="flex items-center">
            <svg class="w-4 h-4 mr-2 text-indigo-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            Publish notes to Notion (if enabled)
          </li>
        </ul>
      </div>
    </div>

    <!-- Save Button -->
    <div class="mt-6 border-t border-gray-100 pt-4 flex justify-end">
      <button
        type="submit"
        class="inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
      >
        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        Save Bot Settings
      </button>
    </div>
  </form>
</div>

