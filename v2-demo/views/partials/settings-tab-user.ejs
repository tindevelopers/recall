<div class="space-y-8">
  <div>
    <h2 class="text-xl font-semibold text-gray-900">User Profile</h2>
    <p class="mt-1 text-sm text-gray-500">Your account information and connected services.</p>
  </div>

  <!-- User Profile Card -->
  <div class="bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-2xl p-1">
    <div class="bg-white rounded-xl p-6">
      <div class="flex items-center space-x-6">
        <div class="flex-shrink-0">
          <div class="h-20 w-20 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-2xl font-bold shadow-lg">
            <%= user.name ? user.name.charAt(0).toUpperCase() : user.email.charAt(0).toUpperCase() %>
          </div>
        </div>
        <div class="flex-1 min-w-0">
          <h3 class="text-xl font-bold text-gray-900 truncate"><%= user.name || 'User' %></h3>
          <p class="text-sm text-gray-500"><%= user.email %></p>
          <div class="mt-2 flex items-center space-x-2">
            <span class="inline-flex items-center rounded-full bg-green-100 px-3 py-1 text-xs font-medium text-green-800">
              <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 8 8"><circle cx="4" cy="4" r="3"/></svg>
              Active
            </span>
            <span class="text-xs text-gray-400">Member since <%= new Date(user.createdAt).toLocaleDateString('en-US', { month: 'short', year: 'numeric' }) %></span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Connected Calendars -->
  <div class="space-y-4">
    <div class="flex items-center justify-between">
      <h3 class="text-lg font-semibold text-gray-900">Connected Calendars</h3>
      <span class="inline-flex items-center rounded-full bg-indigo-100 px-3 py-1 text-xs font-medium text-indigo-700">
        <%= calendars.length %> connected
      </span>
    </div>
    
    <div class="space-y-3">
      <% calendars.forEach(function(cal) { %>
      <div class="bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-shadow">
        <div class="flex items-center justify-between">
          <div class="flex items-center space-x-4">
            <% if (cal.platform === 'google_calendar') { %>
              <div class="flex-shrink-0 w-12 h-12 bg-white rounded-xl shadow-sm flex items-center justify-center">
                <img class="h-8 w-8" src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Google_Calendar_icon_%282020%29.svg/2048px-Google_Calendar_icon_%282020%29.svg.png" alt="Google Calendar" />
              </div>
            <% } else { %>
              <div class="flex-shrink-0 w-12 h-12 bg-white rounded-xl shadow-sm flex items-center justify-center">
                <img class="h-8 w-8" src="https://img.icons8.com/color/480/outlook-calendar.png" alt="Outlook" />
              </div>
            <% } %>
            <div>
              <p class="text-sm font-semibold text-gray-900"><%= cal.email %></p>
              <p class="text-xs text-gray-500"><%= cal.platform === 'google_calendar' ? 'Google Calendar' : 'Microsoft Outlook' %></p>
            </div>
          </div>
          <div class="flex items-center space-x-3">
            <%- include('calendar-status-badge', {status: cal.status}) %>
            <% if (cal.recallId && cal.status !== 'disconnected') { %>
              <form method="post" action="/calendar/<%= cal.id %>/disconnect" class="inline">
                <button 
                  type="submit" 
                  class="inline-flex items-center text-sm font-medium text-orange-600 hover:text-orange-500"
                  title="Disconnect calendar"
                  onclick="return confirm('Are you sure you want to disconnect this calendar? You can reconnect it later.')"
                >
                  <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"></path>
                  </svg>
                  Disconnect
                </button>
              </form>
            <% } %>
            <a href="/calendar/<%= cal.id %>" class="text-indigo-600 hover:text-indigo-500 text-sm font-medium">
              Manage →
            </a>
          </div>
        </div>
      </div>
      <% }); %>
    </div>

    <a href="/" class="inline-flex items-center text-sm text-indigo-600 hover:text-indigo-500 font-medium mt-2">
      <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
      </svg>
      Add another calendar
    </a>
  </div>

  <!-- Connected Integrations -->
  <div class="space-y-4">
    <h3 class="text-lg font-semibold text-gray-900">Integrations</h3>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <!-- Notion Integration -->
      <div class="bg-white rounded-xl border border-gray-200 p-5 hover:shadow-md transition-shadow">
        <div class="flex items-start space-x-4">
          <div class="flex-shrink-0 w-12 h-12 bg-gray-900 rounded-xl flex items-center justify-center">
            <svg class="w-7 h-7 text-white" viewBox="0 0 24 24" fill="currentColor">
              <path d="M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 1.968c-.42-.326-.98-.7-2.055-.607L3.01 2.295c-.466.046-.56.28-.374.466zm.793 3.08v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.841-.046.935-.56.935-1.167V6.354c0-.606-.233-.933-.748-.887l-15.177.887c-.56.047-.747.327-.747.934zm14.337.745c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514-.748 0-.935-.234-1.495-.933l-4.577-7.186v6.952l1.448.327s0 .84-1.168.84l-3.22.186c-.094-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.62c-.094-.42.14-1.026.793-1.073l3.454-.233 4.764 7.28v-6.44l-1.215-.14c-.093-.514.28-.887.747-.933zM2.212 1.107l13.028-.933c1.635-.14 2.055-.047 3.08.7l4.249 2.986c.7.514.934.653.934 1.213v16.378c0 1.026-.373 1.634-1.68 1.726l-15.458.934c-.98.047-1.448-.093-1.962-.747l-3.129-4.06c-.56-.747-.793-1.306-.793-1.96V2.667c0-.839.374-1.54 1.73-1.56z"/>
            </svg>
          </div>
          <div class="flex-1">
            <div class="flex items-center justify-between">
              <h4 class="text-sm font-semibold text-gray-900">Notion</h4>
              <% if (notionDestination) { %>
                <span class="inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800">
                  Connected
                </span>
              <% } else { %>
                <span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-600">
                  Not connected
                </span>
              <% } %>
            </div>
            <p class="text-xs text-gray-500 mt-1">Auto-publish meeting notes to Notion</p>
            <% if (notionDestination) { %>
              <p class="text-xs text-gray-600 mt-2 truncate">
                Publishing to: <span class="font-medium"><%= notionDestination.pageName || notionDestination.pageId %></span>
              </p>
            <% } else { %>
              <a href="/oauth/notion" class="inline-flex items-center text-xs text-indigo-600 hover:text-indigo-500 font-medium mt-2">
                Connect Notion →
              </a>
            <% } %>
          </div>
        </div>
      </div>

      <!-- Future Integration Placeholder -->
      <div class="bg-gray-50 rounded-xl border-2 border-dashed border-gray-200 p-5 flex items-center justify-center">
        <div class="text-center">
          <svg class="mx-auto h-10 w-10 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
          </svg>
          <p class="mt-2 text-sm text-gray-400">More integrations coming soon</p>
        </div>
      </div>
    </div>
  </div>
</div>
